import{a as T,b as Q}from"./chunk-Y3WOYTIU.js";import{B as y,Ba as l,Da as L,G as c,H as _,Ka as g,M as b,N as w,Sa as F,Ua as N,V as P,X as s,Y as m,Ya as U,aa as x,ca as a,eb as z,fb as W,gb as H,hb as O,ib as J,jb as u,ka as n,la as r,lb as M,ma as p,mb as v,nb as I,ob as E,pa as S,pb as R,qb as h,ra as d,rb as A,sa as f,tb as G,ub as D,wb as K}from"./chunk-EDIASGHK.js";import"./chunk-5FZOKLP6.js";var V=(()=>{class e{constructor(t){this.authService=t,this._env=J,this.type="login",this.response=new P}ngOnInit(){google.accounts.id.initialize({client_id:this._env.GOOGLE_CLIENT_ID,callback:t=>{this.type==="register"?this.authService.googleRegister(t.credential).subscribe(()=>{},o=>this.response.emit(o.error.error)):this.authService.googleLogin(t.credential).subscribe(()=>{},o=>this.response.emit(o.error.error))}}),google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",text:this.type==="register"?"signup":"continue_with"}),google.accounts.id.prompt()}static{this.\u0275fac=function(o){return new(o||e)(m(u))}}static{this.\u0275cmp=c({type:e,selectors:[["google-button"]],inputs:{type:"type"},outputs:{response:"response"},decls:1,vars:0,consts:[["id","google-signin-button"]],template:function(o,i){o&1&&p(0,"div",0)}})}}return e})();var Y=e=>({"is-invalid":e});function ae(e,oe){if(e&1){let t=S();n(0,"ngb-alert",14,0),d("closed",function(){b(t);let i=f();return w(i.invalidLogin=!1)}),n(2,"strong"),l(3,"Warning!"),r(),l(4),r()}if(e&2){let t=f();a("type","danger"),s(4),L(" ",t.errorMessage,". ")}}var Z=(()=>{class e{constructor(t){this._authService=t,this.userForm=new R({username:new h(null,v.required),password:new h(null,v.required)}),this.invalidLogin=!1,this.errorMessage="Username or password is incorrect"}login(){this._authService.login(this.userForm.value.username,this.userForm.value.password).subscribe(()=>{},t=>{this.invalidLogin=!0})}static{this.\u0275fac=function(o){return new(o||e)(m(u))}}static{this.\u0275cmp=c({type:e,selectors:[["app-login"]],decls:18,vars:10,consts:[["alert",""],[1,"m-3"],[1,"text-center","font-monospace","fw-medium","my-4"],[3,"type","closed",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"d-flex","flex-column","w-100","gap-3"],["type","string","formControlName","username","placeholder","Username",1,"form-control","form-control-solid","form-control-lg",3,"ngClass"],["type","password","formControlName","password","placeholder","Password",1,"form-control","form-control-solid","form-control-lg",3,"ngClass"],[1,"d-flex","flex-column","w-100","gap-3","my-3"],["type","submit",1,"w-100","btn","btn-info","mt-4",3,"disabled"],[1,"text-muted","text-center","fs-6"],[3,"response","type"],[1,"fs-7","text-muted"],["routerLink","/auth/register"],[3,"closed","type"]],template:function(o,i){o&1&&(n(0,"div",1)(1,"h4",2),l(2,"Login to continue"),r(),x(3,ae,5,2,"ngb-alert",3),n(4,"form",4),d("ngSubmit",function(){return i.login()}),n(5,"div",5),p(6,"input",6)(7,"input",7),r(),n(8,"div",8)(9,"button",9),l(10,"Login"),r(),n(11,"span",10),l(12," Or continue with"),r(),n(13,"google-button",11),d("response",function(j){return i.invalidLogin=!0,i.errorMessage=j}),r()(),n(14,"span",12),l(15,"Don't have an account? "),n(16,"a",13),l(17,"Register"),r()()()()),o&2&&(s(3),a("ngIf",i.invalidLogin),s(),a("formGroup",i.userForm),s(2),a("ngClass",g(6,Y,i.invalidLogin)),s(),a("ngClass",g(8,Y,i.invalidLogin)),s(2),a("disabled",i.userForm.invalid),s(4),a("type","login"))},dependencies:[F,N,H,A,M,I,E,G,D,T,V]})}}return e})();var q=e=>({"is-invalid":e});function le(e,oe){if(e&1){let t=S();n(0,"ngb-alert",12,0),d("closed",function(){b(t);let i=f();return w(i.invalidLogin=!1)}),n(2,"strong"),l(3,"Warning!"),r(),l(4),r()}if(e&2){let t=f();a("type","danger"),s(4),L(" ",t.errorMessage,". ")}}var $=(()=>{class e{constructor(t){this._authService=t,this.userForm=new R({username:new h(null,v.required),password:new h(null,v.required)}),this.invalidLogin=!1,this.errorMessage="Invalid Registration."}static{this.\u0275fac=function(o){return new(o||e)(m(u))}}static{this.\u0275cmp=c({type:e,selectors:[["app-register"]],decls:13,vars:13,consts:[["alert",""],[1,"m-3"],[3,"type","closed",4,"ngIf"],[3,"formGroup"],[1,"d-flex","flex-column","w-100","gap-3"],["type","string","formControlName","username","placeholder","Username",1,"form-control","form-control-solid","form-control-lg",3,"ngClass"],["type","email","formControlName","username","placeholder","Email",1,"form-control","form-control-solid","form-control-lg",3,"ngClass"],["type","password","formControlName","password","placeholder","Password",1,"form-control","form-control-solid","form-control-lg",3,"ngClass"],[1,"d-flex","flex-column","w-100","gap-3","my-3"],["type","submit",1,"w-100","btn","btn-info","mt-4",3,"disabled"],[1,"text-muted","text-center","fs-6"],[3,"response","type"],[3,"closed","type"]],template:function(o,i){o&1&&(n(0,"div",1),x(1,le,5,2,"ngb-alert",2),n(2,"form",3)(3,"div",4),p(4,"input",5)(5,"input",6)(6,"input",7),r(),n(7,"div",8)(8,"button",9),l(9,"Register"),r(),n(10,"span",10),l(11," Or continue with"),r(),n(12,"google-button",11),d("response",function(j){return i.invalidLogin=!0,i.errorMessage=j}),r()()()()),o&2&&(s(),a("ngIf",i.invalidLogin),s(),a("formGroup",i.userForm),s(2),a("ngClass",g(7,q,i.invalidLogin)),s(),a("ngClass",g(9,q,i.invalidLogin)),s(),a("ngClass",g(11,q,i.invalidLogin)),s(2),a("disabled",i.userForm.invalid),s(4),a("type","register"))},dependencies:[F,N,A,M,I,E,G,D,T,V]})}}return e})();var ee=(()=>{class e{constructor(t,o){this.authService=t,this.router=o}ngOnInit(){this.authService.isAuthenticated()&&this.router.navigate(["/"])}static{this.\u0275fac=function(o){return new(o||e)(m(u),m(W))}}static{this.\u0275cmp=c({type:e,selectors:[["app-auth"]],decls:5,vars:0,consts:[[1,"d-flex","align-items-center","justify-content-center","user-select-none","vh-100"],[1,"card","rounded-4","position-relative"],["src","./assets/logo.png","width","150","height","150","alt","",1,"position-absolute","top-0","start-50","translate-middle"],[1,"card-body","p-5",2,"width","500px"]],template:function(o,i){o&1&&(n(0,"div",0)(1,"div",1),p(2,"img",2),n(3,"div",3),p(4,"router-outlet"),r()()())},dependencies:[z],styles:[".top-0[_ngcontent-%COMP%]{top:-3%!important}"]})}}return e})();var me=[{path:"",component:ee,children:[{path:"login",component:Z},{path:"register",component:$}]}],te=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=_({type:e})}static{this.\u0275inj=y({imports:[O.forChild(me),O]})}}return e})();var je=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=_({type:e})}static{this.\u0275inj=y({imports:[U,te,K,Q]})}}return e})();export{je as AuthModule};
