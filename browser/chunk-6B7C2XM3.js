import{A as p,D as h,Za as c,c as a,g as s,o as i,x as n}from"./chunk-EDIASGHK.js";import{a as l,b as u}from"./chunk-5FZOKLP6.js";var m={production:!1,url:"http://localhost:8000",GOOGLE_CLIENT_ID:"674774180848-ihgv6rlj4p2kckuafr5cqa72rahifjlo.apps.googleusercontent.com"};var b=(()=>{class o{constructor(t){this._http=t,this._env=m,this._modules=new a([]),this._module=new a(null)}get modules$(){return this._modules.asObservable()}get module$(){return this._module.asObservable()}index(){return this._http.get(`${this._env.url}/api/modules`).pipe(n(t=>this._modules.next(t)),i(t=>(console.error(t),s(t))))}show(t){return this._http.get(`${this._env.url}/api/modules/${t}`).pipe(n(e=>this._module.next(e)),i(e=>(console.error(e),s(e))))}track(t,e){return this._http.post(`${this._env.url}/api/lessons/track/${t}`,{duration:e}).pipe(i(r=>(console.error(r),s(r))))}bookmark(t){return this._http.post(`${this._env.url}/api/bookmark/${t}`,{}).pipe(n(e=>{this._modules.next(this._modules.getValue().map(r=>r.id===t?u(l({},r),{is_bookmarked:e.value}):r))}),i(e=>(console.error(e),s(e))))}static{this.\u0275fac=function(e){return new(e||o)(h(c))}}static{this.\u0275prov=p({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{b as a};
